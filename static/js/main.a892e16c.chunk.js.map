{"version":3,"sources":["utils/Api.js","services/actions/ingredients.js","components/appHeader/AppHeader.js","services/reducers/ingredients.js","utils/types.js","services/actions/getIngredientforOpenModal.js","components/ingredientItem/IngredientItem.js","components/burgerIngredients/BurgerIngredients.js","services/actions/getOrderDetails.js","components/elementBurger/ElementBurger.js","components/burgerConstructor/BurgerConstructor.js","components/modalOverlay/ModalOverlay.js","components/modal/Modal.js","components/orderDetails/OrderDetails.js","components/orderMessage/OrderMessage.js","components/ingredientDetails/IngredientDetails.js","components/app/App.js","reportWebVitals.ts","services/reducers/selectedInredient.js","services/reducers/orderDetails.js","services/reducers/rootReducers.js","index.js","components/ingredientDetails/ingredientDetails.module.css","components/appHeader/appHeader.module.css","components/orderDetails/orderDetails.module.css","components/burgerIngredients/burgerIngredients.module.css","components/burgerConstructor/burgerConstructor.module.css","components/ingredientItem/ingredientItem.module.css","components/modal/modal.module.css","components/app/app.module.css","components/elementBurger/elementBurger.module.css","components/modalOverlay/modalOverlay.module.css"],"names":["api","options","this","_url","url","_headers","headers","fetch","method","then","res","ok","json","Promise","reject","status","data","body","JSON","stringify","GET_INGREDIENTS_API","GET_INGREDIENTS_API_SUCCESS","GET_INGREDIENTS_API_FAILED","INGREDIENTS_IN_BURGER_CONSTRUCTOR","SORT_INGREDIENTS_IN_BURGER_CONSTRUCTOR","DELETE_INGREDIENTS_IN_BURGER_CONSTRUCTOR","AppHeader","className","appHeaderStyles","header","navigation","menu","button","button_active","type","logo","profile","defaultState","feedRequest","feedFailed","ingredientsGetApi","ingredientForConstructor","bun","others","ingredientsName","ingredientTypes","shape","id","PropTypes","string","isRequired","oneOf","name","proteins","number","fat","carbohydrates","calories","image_large","OPEN_SELECTED_INRGEDIENT","arrayOf","func","object","CLOSE_MODALS","OPEN_ORDER_DETAILS","OPEN_ORDER_ERROR","closeModal","dispatch","payload","IngredientItem","item","useState","count","setCount","arrayData","setArrayData","useDrag","collect","monitor","isDrag","isDragging","dragRef","useDispatch","countData","useSelector","state","getIngredientsApi","useEffect","arrayCountData","result","Object","values","i","length","a","undefined","caclCount","ref","ingredientItem","onClick","image","src","counter","map","check","size","uuid","price","cost","BurgerIngredients","current","setCurrent","bunRef","useRef","sauceRef","mainRef","ingredients","scrollTabThrottle","callee","timeout","timer","args","setTimeout","clearTimeout","throttle","useCallback","scrollArea","document","querySelector","getBoundingClientRect","top","scrollSectionBun","scrollSectionSauce","scrollSectionMain","Math","abs","sauce","main","scrollToBun","scrollIntoView","behavior","block","scrollToSauce","scrollToMain","scrollBlock","getElementById","addEventListener","removeEventListener","burgerIngredients","title","tab","value","active","card","filter","filteredType","React","memo","GET_ORDER_DETAILS","GET_ORDER_DETAILS_SUCCESS","GET_ORDER_DETAILS_SUCCESS_FAILED","CALC_PRICE_ORDER_DETAILS","SET_SELECTED_ID_INGREDIENTS","ElementBurger","index","handleClose","deleteSelectedIngredientsForBurgerAction","onDropHandlerOthers","dragIndex","hoverIndex","sortSelectedIngredientsForBurgerAction","useDrop","accept","handlerId","isOver","hover","hoverBoundingRect","hoverMiddleY","bottom","hoverClientY","getClientOffset","y","drop","opacity","border","drag","elementBurger","ingredient","style","dragIcon","text","thumbnail","image_mobile","BurgerConstructor","onDropHandler","itemId","isHover","dropTarget","selectedIngredients","dataPrice","getOrderDetails","reduce","s","setSelectedId","setSelectedIdBun","key","setSelectedIdOthers","createOrder","burgerConstructor","isLocked","list","buttonOrder","cellPrice","find","ModalOverlay","modalOverlay","modalsContainer","Modal","children","handleEscKeydown","event","ReactDOM","createPortal","modal","modalForm","headerDetails","headerText","closeButton","OrderDetails","selectedId","selectedIdIgredients","setOrderDetails","success","order","catch","err","infoOderDetails","orderDetails","numberOrder","textIdOrder","loadImage","checkImage","statusOrder","OrderMessage","IngredientDetails","getInfoSelectedIngredient","openModalIngredient","ingredientDetails","alt","items","App","getIngridients","_id","isOpenModal","openModal","isOpenModalDetails","openModalOrder","isOpenModalError","openModalError","app","section","DndProvider","backend","HTML5Backend","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducers","combineReducers","action","newMas","slice","splice","selectedInrgedient","dataOrder","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","store","createStore","render","StrictMode","module","exports"],"mappings":"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","file":"static/js/main.a892e16c.chunk.js","sourcesContent":["class Api {\r\n  constructor(options) {\r\n    this._url = options.url;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  getIngridients() {\r\n    return fetch(`${this._url}/ingredients`, {\r\n      method: 'GET',\r\n      headers: this._headers\r\n    })\r\n      .then(res => res.ok ? res.json() : Promise.reject(res.status))\r\n  }\r\n\r\n  setOrderDetails(data) {\r\n    return fetch(`${this._url}/orders`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        \"ingredients\": data\r\n      })\r\n    })\r\n      .then(res => res.ok ? res.json() : Promise.reject(res.status))\r\n  }\r\n}\r\n\r\nexport const api = new Api({\r\n  url: 'https://norma.nomoreparties.space/api',\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  }\r\n})\r\n","\n\n//экшен для отправки запроса на сервер\nexport const GET_INGREDIENTS_API = 'GET_INGREDIENTS_API';\n//экшен для при получение положительного ответа от сервера\nexport const GET_INGREDIENTS_API_SUCCESS = 'GET_INGREDIENTS_API_SUCCESS';\n//экшен для при получение отрицательно ответа от сервера\nexport const GET_INGREDIENTS_API_FAILED = 'GET_INGREDIENTS_API_FAILED';\n//экшен для сборки ингредиентов для бургера\nexport const INGREDIENTS_IN_BURGER_CONSTRUCTOR = 'INGREDIENTS_IN_BURGER_CONSTRUCTOR';\n//экшен для сортировки ингредиентов для бургера\nexport const SORT_INGREDIENTS_IN_BURGER_CONSTRUCTOR = 'SORT_INGREDIENTS_IN_BURGER_CONSTRUCTOR';\n//экшен для удаления ингредиента из собираемого бургера\nexport const DELETE_INGREDIENTS_IN_BURGER_CONSTRUCTOR = 'DELETE_INGREDIENTS_IN_BURGER_CONSTRUCTOR';\n\nimport { api } from '../../utils/Api';\n\n//генератор экшенов - запрос по API для получения всех ингредиентов для бургера\nexport const getIngredients = () => {\n  return (dispatch) => {\n    dispatch({\n      type: GET_INGREDIENTS_API\n    })\n    api.getIngridients()\n      .then(res => {\n        if (res && res.success) {\n          dispatch({\n            type: GET_INGREDIENTS_API_SUCCESS,\n            payload: res.data.map((item) => {\n              return {\n                id: item._id,\n                name: item.name,\n                price: item.price,\n                type: item.type,\n                image: item.image,\n                image_mobile: item.image_mobile,\n                image_large: item.image_large,\n                proteins: item.proteins,\n                fat: item.fat,\n                carbohydrates: item.carbohydrates,\n                calories: item.calories\n              }\n            })\n          })\n        } else {\n          dispatch({\n            type: GET_INGREDIENTS_API_FAILED\n          })\n        }\n      }).catch(err => {\n        dispatch({\n          type: GET_INGREDIENTS_API_FAILED\n        })\n      })\n  }\n}\n\n//экшен по сбору выбранных ингредиентов для бургера\nexport const selectedIngredientsForBurgerAction = (data) => {\n  return(dispatch) => {\n    dispatch({\n      type: INGREDIENTS_IN_BURGER_CONSTRUCTOR,\n      payload: data\n    })\n  }\n}\n\n//экшен по сортировке выбранных ингредиентов для бургера\nexport const sortSelectedIngredientsForBurgerAction = (dragIndex, hoverIndex) => {\n  return(dispatch) => {\n    dispatch({\n      type: SORT_INGREDIENTS_IN_BURGER_CONSTRUCTOR,\n      dragIndex: dragIndex,\n      hoverIndex: hoverIndex\n    })\n  }\n}\n\n//экшен по удалению выбранных ингредиентов для бургера\nexport const deleteSelectedIngredientsForBurgerAction = (data) => {\n  return(dispatch) => {\n    dispatch({\n      type: DELETE_INGREDIENTS_IN_BURGER_CONSTRUCTOR,\n      payload: data\n    })\n  }\n}\n","import React from 'react';\r\nimport style, { BurgerIcon, ListIcon, ProfileIcon, Logo } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport appHeaderStyles from './appHeader.module.css';\r\n\r\nexport default function AppHeader() {\r\n  return (\r\n    <header className={appHeaderStyles.header}>\r\n      <nav className={appHeaderStyles.navigation}>\r\n        <ul className={appHeaderStyles.menu}>\r\n          <li>\r\n            <button className={`${appHeaderStyles.button} ${appHeaderStyles.button_active} text text_type_main-default`}>\r\n              <div className=\"p-2\">\r\n                <BurgerIcon type=\"primary\" />\r\n              </div>\r\n              Конструктор\r\n            </button>\r\n          </li>\r\n          <li>\r\n            <button className={`${appHeaderStyles.button} text text_type_main-default`}>\r\n              <div className=\"p-2\">\r\n                <ListIcon type=\"secondary\" />\r\n              </div>\r\n              Лента заказов\r\n            </button>\r\n          </li>\r\n        </ul>\r\n        <div className={appHeaderStyles.logo}><Logo /></div>\r\n        <button className={` ${appHeaderStyles.profile} ${appHeaderStyles.button} text text_type_main-default`}>\r\n          <div className=\"p-2\">\r\n            <ProfileIcon type=\"secondary\" />\r\n          </div>\r\n          Личный кабинет\r\n        </button>\r\n      </nav>\r\n    </header>\r\n  );\r\n}\r\n","import {\n  GET_INGREDIENTS_API,\n  GET_INGREDIENTS_API_SUCCESS,\n  GET_INGREDIENTS_API_FAILED,\n  INGREDIENTS_IN_BURGER_CONSTRUCTOR,\n  SORT_INGREDIENTS_IN_BURGER_CONSTRUCTOR,\n  DELETE_INGREDIENTS_IN_BURGER_CONSTRUCTOR,\n} from '../actions/ingredients';\n\nconst defaultState = {\n  feedRequest: false,\n  feedFailed: false,\n  ingredientsGetApi: [], //список всех полученных ингредиентов\n  ingredientForConstructor: { //список всех ингредиентов в текущем конструкторе бургера\n    bun: [],\n    others: []\n  },\n}\n\nexport const ingredientsName = { bun: 'bun', main: 'main', sauce: 'sauce' };\n\nexport const getIngredientsApi = ( state = defaultState, action ) => {\n  switch (action.type) {\n    case GET_INGREDIENTS_API: {\n      return { ...state, feedRequest: true, feedFailed: false };\n    }\n    case GET_INGREDIENTS_API_SUCCESS: {\n      const ingredients = action.payload;\n      return { ...state, ingredientsGetApi: ingredients, feedRequest: false};\n    }\n    case GET_INGREDIENTS_API_FAILED: {\n      return { ...state, feedFailed: true, feedRequest: false};\n    }\n    case INGREDIENTS_IN_BURGER_CONSTRUCTOR: {\n      const ingredients = action.payload;\n      //Ищем булку в текущем добавляемом ингредиенте\n      if (ingredients.type === ingredientsName.bun) { //если добавляем ингредиент Булку\n        return {\n          ...state,\n          ingredientForConstructor: {\n            ...state.ingredientForConstructor,\n            bun: [ingredients],\n          }\n        }\n      } else {\n        return {\n          ...state,\n          ingredientForConstructor: {\n            ...state.ingredientForConstructor,\n            others: [...state.ingredientForConstructor.others, ingredients]\n          },\n        }\n      }\n    }\n    case SORT_INGREDIENTS_IN_BURGER_CONSTRUCTOR: {\n      const dragIndex = action.dragIndex;\n      const hoverIndex = action.hoverIndex;\n      const newMas = state.ingredientForConstructor.others.slice(state.ingredientForConstructor.others.splice(hoverIndex, 0, state.ingredientForConstructor.others.splice(dragIndex, 1)[0]));\n      return {\n        ...state,\n        ingredientForConstructor: {\n          ...state.ingredientForConstructor,\n          others: [...newMas]\n        }\n      }\n    }\n    case DELETE_INGREDIENTS_IN_BURGER_CONSTRUCTOR: {\n      const data = action.payload;\n\n      return {\n        ...state,\n        ingredientForConstructor: {\n          ...state.ingredientForConstructor,\n          others: [...state.ingredientForConstructor.others.filter((item, index) => (index !== data))]\n        }\n      }\n    }\n    default:\n      return state\n  }\n}\n","import PropTypes from 'prop-types';\nimport { shape } from 'prop-types';\n\nexport const ingredientTypes = shape({\n    id: PropTypes.string.isRequired,\n    type: PropTypes.oneOf([\"bun\", \"main\", \"sauce\"]).isRequired,\n    name: PropTypes.string.isRequired,\n    proteins: PropTypes.number.isRequired,\n    fat: PropTypes.number.isRequired,\n    carbohydrates: PropTypes.number.isRequired,\n    calories: PropTypes.number.isRequired,\n    image_large: PropTypes.string.isRequired\n});\n\nexport const dataTypes = PropTypes.arrayOf(\n  ingredientTypes.isRequired\n)\n\nexport const funcTypes = PropTypes.func\n\nexport const numberTypes = PropTypes.number\n\nexport const text = PropTypes.string\n\nexport const component = PropTypes.object\n","export const OPEN_SELECTED_INRGEDIENT = 'OPEN_SELECTED_INRGEDIENTS';\nexport const CLOSE_MODALS = 'CLOSE_SELECTED_INRGEDIENT';\nexport const OPEN_ORDER_DETAILS = 'OPEN_ORDER_DETAILS';\nexport const OPEN_ORDER_ERROR = 'OPEN_ORDER_ERROR';\n\nexport const openInfoSelectedInrgedient = (data) => {\n  return (dispatch) => {\n    dispatch({\n      type: OPEN_SELECTED_INRGEDIENT,\n      payload: data\n    })\n  }\n}\n\nexport const openOrderDetails = () => {\n  return (dispatch) => {\n    dispatch({\n      type: OPEN_ORDER_DETAILS,\n    })\n  }\n}\n\nexport const openOrderError = () => {\n  return (dispatch) => {\n    dispatch({\n      type: OPEN_ORDER_ERROR,\n    })\n  }\n}\n\nexport const closeModal = (data) => {\n  return (dispatch) => {\n    dispatch({\n      type: CLOSE_MODALS,\n      payload: data\n    })\n  }\n}\n","import React, { useEffect, useState } from 'react';\n\nimport PropTypes from 'prop-types';\nimport style, { Counter, CurrencyIcon } from '@ya.praktikum/react-developer-burger-ui-components';\nimport { useDispatch, useSelector } from 'react-redux';\nimport ingredientItem from './ingredientItem.module.css';\nimport { ingredientTypes } from '../../utils/types';\nimport { openInfoSelectedInrgedient } from '../../services/actions/getIngredientforOpenModal';\nimport { useDrag } from \"react-dnd\";\nimport uuid from 'react-uuid';\n\nexport default function IngredientItem ( {item} ) {\n\n  const [count, setCount] = useState({}); //объект типа {ID:количество} в массиве arrayData\n  const [arrayData, setArrayData] = useState([]); //общий массив всех ингредиентов\n\n  const [{ isDrag }, dragRef] = useDrag({\n    type: 'ingredients',\n    item: item,\n    collect: monitor => ({\n      isDrag: monitor.isDragging()\n    })\n  });\n\n  const dispatch = useDispatch();\n  const countData = useSelector(state => state.getIngredientsApi.ingredientForConstructor);\n\n  //результат подсчета кол-ва элементов отобранных для бургера\n  const caclCount = () => {\n    let arrayCountData = [];\n    let result = {};\n    setCount(result);\n    arrayCountData = ([...Object.values(countData)[0], ...Object.values(countData)[1]]);\n    setArrayData(arrayCountData);\n    for (let i = 0; i < arrayCountData.length; ++i) {\n      let a = arrayCountData[i].id;\n      if (result[a] != undefined) {\n        ++result[a];\n      }\n      else\n        result[a] = 1;\n    }\n  }\n\n  useEffect(() => {\n    caclCount();\n  }, [countData]);\n\n  const handleClick = () => dispatch(openInfoSelectedInrgedient(item));\n\n  return (\n    !isDrag &&\n      <li ref={dragRef} className={ingredientItem.item}>\n        <img onClick={handleClick} className={ingredientItem.image} src={item.image}></img>\n        <div className={ingredientItem.counter}>\n          {arrayData.map(check => (check.id === item.id &&\n            <Counter key={uuid()} count={count[item.id]} size=\"default\" /> ))\n          }\n        </div>\n        <div className={ingredientItem.price}>\n          <p className={` ${ingredientItem.cost} text text_type_digits-default`}>{item.price}</p>\n          <CurrencyIcon type=\"primary\" />\n        </div>\n        <p className={` ${ingredientItem.name} text text_type_main-default`}>{item.name}</p>\n      </li>\n  );\n}\n\nIngredientItem.propTypes = {\n  item: ingredientTypes.isRequired,\n}\n","import React, { useEffect, useRef, useState, useCallback } from 'react';\nimport style, { Tab } from '@ya.praktikum/react-developer-burger-ui-components';\nimport { useSelector } from 'react-redux';\nimport { ingredientsName } from '../../services/reducers/ingredients';\n\nimport burgerIngredients from './burgerIngredients.module.css';\nimport IngredientItem from '../ingredientItem/IngredientItem';\n\nfunction BurgerIngredients() {\n\n  const [current, setCurrent] = useState();\n  const bunRef = useRef(null);\n  const sauceRef = useRef(null);\n  const mainRef = useRef(null);\n  const ingredients = useSelector((state) => state.getIngredientsApi.ingredientsGetApi);\n\n  //функция подсчета координат для выделения табов\n  const scrollTab = useCallback(() => {\n    const scrollArea = (document.querySelector('#scrollArea').getBoundingClientRect()).top;\n    const scrollSectionBun = (document.querySelector('#sectionBun').getBoundingClientRect()).top;\n    const scrollSectionSauce = (document.querySelector('#sectionSauce').getBoundingClientRect()).top;\n    const scrollSectionMain = (document.querySelector('#sectionMain').getBoundingClientRect()).top;\n\n    const bun = Math.abs(scrollArea - scrollSectionBun);\n    const sauce = Math.abs(scrollArea - scrollSectionSauce);\n    const main = Math.abs(scrollArea - scrollSectionMain);\n\n    if(bun < sauce) {\n      setCurrent('bun');\n    } else if (sauce < main) {\n      setCurrent('sauce');\n    } else {\n      setCurrent('main');\n    }\n  }, [])\n\n  function throttle(callee, timeout) {\n    let timer = null\n    return function perform(...args) {\n      if (timer) return\n      timer = setTimeout(() => {\n        callee(...args)\n        clearTimeout(timer)\n        timer = null\n      }, timeout)\n    }\n  }\n\n  let scrollTabThrottle = throttle(scrollTab, 500);\n\n  const scrollToBun = () => {\n    bunRef.current.scrollIntoView({\n      behavior: \"smooth\",\n      block: \"start\"\n    });\n  }\n\n  const scrollToSauce = () => {\n    sauceRef.current.scrollIntoView({\n      behavior: \"smooth\",\n      block: \"start\"\n    });\n  }\n\n  const scrollToMain = () => {\n    mainRef.current.scrollIntoView({\n      behavior: \"smooth\",\n      block: \"start\"\n    });\n  }\n\n  useEffect(() => {\n    if (bunRef.current) {\n      scrollToBun();\n    }\n    if (sauceRef.current) {\n      scrollToSauce();\n    }\n    if (mainRef.current) {\n      scrollToMain();\n    }\n    const scrollBlock = document.getElementById(\"scrollArea\");\n    scrollBlock.addEventListener(\"scroll\", scrollTabThrottle);\n    return function removeScroll() {\n      scrollBlock.removeEventListener(\"scroll\", scrollTabThrottle);\n    };\n  }, []);\n\n  return (\n    <section className={burgerIngredients.burgerIngredients} >\n      <h2 className={` ${burgerIngredients.title} text text_type_main-large`}>Собери бургер</h2>\n      <div className={burgerIngredients.tab}>\n        <Tab value=\"bun\" active={current === ingredientsName.bun} onClick={scrollToBun}>Булки</Tab>\n        <Tab value=\"sauce\" active={current === ingredientsName.sauce} onClick={scrollToSauce}>Соусы</Tab>\n        <Tab value=\"main\" active={current === ingredientsName.main} onClick={scrollToMain}>Начинка</Tab>\n      </div>\n      <div className={burgerIngredients.ingredients} id='scrollArea'>\n        <h2 ref={bunRef} className=\"text text_type_main-medium test\" id='sectionBun'>Булки</h2>\n        <ul className={` ${burgerIngredients.card} ingredients`}>\n          {\n            ingredients.filter(card => card.type === ingredientsName.bun).map(filteredType => (\n              <IngredientItem item={filteredType} key={filteredType.id} />\n            ))\n          }\n        </ul>\n        <h2 ref={sauceRef} className=\"text text_type_main-medium\" id='sectionSauce'>Соусы</h2>\n        <ul className={` ${burgerIngredients.card} ingredients `} >\n          {\n            ingredients.filter(card => card.type === ingredientsName.sauce).map(filteredType => (\n              <IngredientItem item={filteredType} key={filteredType.id} />\n            ))\n          }\n        </ul>\n        <h2 ref={mainRef} className=\"text text_type_main-medium\" id='sectionMain'>Начинка</h2>\n        <ul className={` ${burgerIngredients.card} ingredients `} >\n          {\n            ingredients.filter(card => card.type === ingredientsName.main).map(filteredType => (\n              <IngredientItem item={filteredType} key={filteredType.id} />\n            ))\n          }\n        </ul>\n      </div>\n    </section>\n  );\n}\n\nexport default React.memo(BurgerIngredients);\n","export const GET_ORDER_DETAILS = 'GET_ORDER_DETAILS';\r\nexport const GET_ORDER_DETAILS_SUCCESS = 'GET_ORDER_DETAILS_SUCCESS';\r\nexport const GET_ORDER_DETAILS_SUCCESS_FAILED = 'GET_ORDER_DETAILS_SUCCESS_FAILED';\r\nexport const CALC_PRICE_ORDER_DETAILS = 'CALC_PRICE_ORDER_DETAILS';\r\nexport const SET_SELECTED_ID_INGREDIENTS = 'SET_SELECTED_ID_INGREDIENTS';\r\n\r\nimport { api } from '../../utils/Api';\r\n\r\nexport const getOrderDetails = (data) => {\r\n  return(dispatch) => {\r\n    dispatch({\r\n      type: GET_ORDER_DETAILS,\r\n    })\r\n    api.setOrderDetails(data)\r\n      .then(res => {\r\n        if(res && res.success) {\r\n          dispatch({\r\n            type: GET_ORDER_DETAILS_SUCCESS,\r\n            payload: res.order\r\n          })\r\n        } else {\r\n          dispatch({\r\n            type: GET_ORDER_DETAILS_SUCCESS_FAILED\r\n          })\r\n        }\r\n      }).catch(err => {\r\n        dispatch({\r\n          type: GET_ORDER_DETAILS_SUCCESS_FAILED\r\n        })\r\n      })\r\n  }\r\n}\r\n\r\nexport const calcPrice = (data) => {\r\n  return(dispatch) => {\r\n    dispatch({\r\n      type: CALC_PRICE_ORDER_DETAILS,\r\n      payload: data\r\n    })\r\n  }\r\n}\r\n\r\nexport const setSelectedId = (data) => {\r\n  return(dispatch) => {\r\n    dispatch({\r\n      type: SET_SELECTED_ID_INGREDIENTS,\r\n      payload: data\r\n    })\r\n  }\r\n}\r\n","import PropTypes from 'prop-types';\nimport style, { DragIcon, ConstructorElement } from '@ya.praktikum/react-developer-burger-ui-components';\nimport { useDispatch } from 'react-redux';\nimport elementBurger from './elementBurger.module.css';\nimport { deleteSelectedIngredientsForBurgerAction, sortSelectedIngredientsForBurgerAction } from '../../services/actions/ingredients';\nimport { ingredientTypes, numberTypes } from '../../utils/types';\nimport { useDrag, useDrop } from 'react-dnd';\nimport { useRef, useCallback } from 'react';\n\nfunction ElementBurger({data, index}) {\n  const dispatch = useDispatch();\n  const handleClose = useCallback(() => dispatch(deleteSelectedIngredientsForBurgerAction(index)), []);\n  const onDropHandlerOthers = useCallback((dragIndex, hoverIndex) => dispatch(sortSelectedIngredientsForBurgerAction(dragIndex, hoverIndex)), []);\n\n  const id = data.id;\n  const ref = useRef();\n\n  const [ {handlerId}, drop] = useDrop({\n    accept: 'sortIngredients',\n    collect: monitor => ({\n      handlerId: monitor.isOver(),\n    }),\n    hover(item, monitor) {\n      if (!ref.current) {\n        return\n      }\n      const dragIndex = item.index\n      const hoverIndex = index\n      if (dragIndex === hoverIndex) {\n        return\n      }\n      const hoverBoundingRect = ref.current?.getBoundingClientRect()\n      const hoverMiddleY =\n        (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2\n      const clientOffset = monitor.getClientOffset()\n      const hoverClientY = clientOffset.y - hoverBoundingRect.top\n\n      if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\n        return\n      }\n\n      if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\n        return\n      }\n\n      onDropHandlerOthers(dragIndex, hoverIndex)\n      item.index = hoverIndex\n    }\n  })\n\n  const [{ isDragging }, drag] = useDrag({\n    type: 'sortIngredients',\n    item: () => {\n      return { id, index }\n    },\n    collect: monitor => ({\n      isDragging: monitor.isDragging()\n    }),\n  });\n\n  const opacity = isDragging ? 0.5 : 1;\n  const border = handlerId ? 'lightgreen dashed 1px' : 'transparent';\n\n  drag(drop(ref))\n  return (\n    <li ref={ref} className={elementBurger.ingredient} style={{ border, opacity}} data-handler-id={handlerId}>\n      <div className={elementBurger.dragIcon}>\n        <DragIcon type=\"primary\" />\n      </div>\n      <ConstructorElement\n        text={data.name}\n        price={data.price}\n        thumbnail={data.image_mobile}\n        handleClose={handleClose}\n      />\n    </li>\n  )\n}\n\nexport default ElementBurger;\n\nElementBurger.propTypes = {\n  data: ingredientTypes.isRequired,\n  index: numberTypes.isRequired\n}\n","import React, { useEffect, useMemo } from \"react\";\nimport style, { ConstructorElement, CurrencyIcon, Button } from '@ya.praktikum/react-developer-burger-ui-components';\nimport uuid from 'react-uuid';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { calcPrice, setSelectedId } from '../../services/actions/getOrderDetails';\nimport burgerConstructor from './burgerConstructor.module.css';\nimport { openOrderDetails, openOrderError } from '../../services/actions/getIngredientforOpenModal';\nimport { useDrop } from \"react-dnd\";\nimport { selectedIngredientsForBurgerAction } from '../../services/actions/ingredients';\nimport ElementBurger from '../elementBurger/ElementBurger';\n\nfunction BurgerConstructor() {\n\n  const dispatch = useDispatch();\n  const onDropHandler = (itemId) => dispatch(selectedIngredientsForBurgerAction(itemId));\n\n  const [ {isHover}, dropTarget] = useDrop({\n    accept: 'ingredients',\n    drop(itemId) {\n      onDropHandler(itemId);\n    },\n    collect: monitor => ({\n      isHover: monitor.isOver(),\n    })\n  })\n\n  //подсвечиваем область для добавления ингредиентов\n  const border = isHover ? 'lightgreen dashed 1px' : 'transparent';\n\n  //вычисляем общую цену за бургер\n  const calculatePrice = () => {\n    const calcPriceBun = selectedIngredients.bun.reduce((s, i ) => s += i.price, 0);\n    const calcPriceOther = selectedIngredients.others.reduce((s, i ) => s += i.price, 0);\n    const calcPrice = (calcPriceBun*2) + calcPriceOther;\n    return calcPrice;\n  }\n\n  // Собираем все _id ингредиентов для отправки запроса на сервер\n  const createOrder = () => {\n    const setSelectedIdBun = (selectedIngredients.bun.map((key) => {return key.id}));\n    const setSelectedIdOthers = (selectedIngredients.others.map((key) => {return key.id}));\n    const setSelectedId = [...setSelectedIdBun, ...setSelectedIdOthers, ...setSelectedIdBun];\n    return setSelectedId;\n  };\n\n  const selectedIngredients = useSelector(state => state.getIngredientsApi.ingredientForConstructor)\n  const dataPrice = useSelector(state => state.getOrderDetails.price);\n;\n  useEffect(() => {\n    dispatch(calcPrice(calculatePrice()));\n    dispatch(setSelectedId(createOrder()));\n  }, [selectedIngredients]);\n\n\n  const handleClick = () => {\n    if (selectedIngredients.bun.find(item => item.type === 'bun')) {\n      dispatch(openOrderDetails());\n    } else {\n      dispatch(openOrderError());\n    }\n  }\n\n  return (\n    <section ref={dropTarget} className={burgerConstructor.burgerConstructor} style={{border}}>\n      {selectedIngredients.bun[0]?.id &&\n        <div className={burgerConstructor.bun}>\n          {\n            <ConstructorElement\n              key={uuid()}\n              type=\"top\"\n              isLocked={true}\n              text={` ${selectedIngredients.bun[0]?.name} (верх)`}\n              price={selectedIngredients.bun[0]?.price}\n              thumbnail={selectedIngredients.bun[0]?.image_mobile}\n            />\n          }\n        </div>\n      }\n      <ul className={` ${burgerConstructor.list} ${burgerConstructor.ingredients} ` } >\n        {\n          selectedIngredients.others.map((item, index) => (\n            <ElementBurger data={item} index={index} key={uuid()}/>\n          ))\n        }\n      </ul>\n      {selectedIngredients.bun[0]?.id &&\n        <div className={burgerConstructor.bun}>\n          {\n            <ConstructorElement\n              key={uuid()}\n              type=\"bottom\"\n              isLocked={true}\n              text={` ${selectedIngredients.bun[0]?.name} (низ)`}\n              price={selectedIngredients.bun[0]?.price}\n              thumbnail={selectedIngredients.bun[0]?.image_mobile}\n            />\n          }\n        </div>\n      }\n      { dataPrice > 0 &&\n        <div className={burgerConstructor.buttonOrder}>\n          <p className=\"text text_type_digits-medium\">{dataPrice}</p>\n          <div className={burgerConstructor.cellPrice}>\n            <CurrencyIcon type=\"primary\" className=\"p-4\" />\n          </div>\n          <Button onClick={handleClick} type=\"primary\" size=\"large\">\n            Оформить заказ\n          </Button>\n        </div>\n      }\n    </section>\n  );\n}\n\nexport default React.memo(BurgerConstructor);\n","import React from 'react';\r\nimport modalOverlay from './modalOverlay.module.css';\r\nimport { useDispatch } from 'react-redux';\r\nimport { closeModal } from '../../services/actions/getIngredientforOpenModal';\r\n\r\nexport default function ModalOverlay() {\r\nconst dispatch = useDispatch();\r\nconst closeModals = () => dispatch(closeModal());\r\n\r\n  return (\r\n    <div className={modalOverlay.modalOverlay} onClick={closeModals}></div>\r\n  )\r\n}\r\n","import React, { useEffect, useCallback } from 'react';\nimport ReactDOM from 'react-dom';\nimport style, { CloseIcon, } from '@ya.praktikum/react-developer-burger-ui-components';\nimport ModalOverlay from '../modalOverlay/ModalOverlay';\nimport modal from './modal.module.css';\nimport { text, component } from '../../utils/types';\nimport { useDispatch } from 'react-redux';\nimport { closeModal } from '../../services/actions/getIngredientforOpenModal';\n\nconst modalsContainer = document.querySelector('#modals');\n\nconst Modal = ({ title, children }) => {\n\n  const dispatch = useDispatch();\n\n  const closeModals = () => dispatch(closeModal());\n\n  // Обработка нажатия Esc\n  const handleEscKeydown = useCallback((event) => {\n    event.key === \"Escape\" && dispatch(closeModal());\n  }, []);\n\n  useEffect(() => {\n    document.addEventListener('keydown', handleEscKeydown);\n\n    return () => {\n      document.removeEventListener('keydown', handleEscKeydown);\n    };\n  }, []);\n\n  return ReactDOM.createPortal(\n    (<>\n      <div className={modal.modal}>\n        <div className={modal.modalForm}>\n          <div className={modal.headerDetails}>\n            <p className={` ${modal.headerText} text text_type_main-large`}>{title}</p>\n            <div className={modal.closeButton}><CloseIcon type=\"primary\" onClick={closeModals} /></div>\n          </div>\n          {children}\n        </div>\n      </div>\n      <ModalOverlay />\n    </>\n    ), modalsContainer\n  );\n}\n\nexport default Modal;\n\nModal.propTypes = {\n  title: text.isRequired,\n  children: component.isRequired\n}\n","import React, { useEffect } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport style, { CheckMarkIcon } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport orderDetails from './orderDetails.module.css';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getOrderDetails } from '../../services/actions/getOrderDetails';\r\n\r\nexport default function OrderDetails() {\r\n\r\n  const selectedId = useSelector(state => state.getOrderDetails.selectedIdIgredients);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(getOrderDetails(selectedId));\r\n  }, [dispatch])\r\n\r\n  const feedFailed = useSelector((state) => state.getOrderDetails.feedFailed);\r\n  const feedRequest = useSelector((state) => state.getOrderDetails.feedRequest);\r\n  const order = useSelector(state => state.getOrderDetails.infoOderDetails);\r\n\r\n  return (\r\n    <>\r\n      {feedFailed && <p className={` ${orderDetails.numberOrder} text text_type_main-medium`}>Произошла ошибка получения заказа</p>}\r\n      {feedRequest && <p className={` ${orderDetails.numberOrder} text text_type_main-medium`}>Формирование заказа...</p>}\r\n      {!feedFailed && !feedRequest &&\r\n        <>\r\n          <p className={` ${orderDetails.numberOrder} text text_type_digits-large `}>{order.number}</p>\r\n          <p className={` ${orderDetails.textIdOrder} text text_type_main-medium `}>идентификатор заказа</p>\r\n          <div className={orderDetails.loadImage}></div>\r\n          <div className={orderDetails.checkImage}><CheckMarkIcon type=\"primary\" /></div>\r\n          <p className={` ${orderDetails.statusOrder} text text_type_main-default `}>Ваш заказ начали готовить</p>\r\n          <p className={` ${orderDetails.status} text text_type_main-default text_color_inactive `}>Дождитесь готовности на орбитальной станции</p>\r\n        </>\r\n      }\r\n    </>\r\n  )\r\n}\r\n","export default function OrderMessage() {\n\n  return (\n    <>\n      <p className={` text text_type_main-medium p-5 `}>Добавьте булочку в ингредиенты!</p>\n    </>\n  )\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport ingredientDetails from './ingredientDetails.module.css';\r\nimport { useSelector } from 'react-redux';\r\n\r\nexport default function IngredientDetails() {\r\n\r\n  const ingredient = useSelector((state) => state.getInfoSelectedIngredient.openModalIngredient);\r\n\r\n  return (\r\n    <>\r\n      <img className={ingredientDetails.image} src={ingredient.image_large} alt={ingredient.name}></img>\r\n      <p className={` ${ingredientDetails.name } text text_type_main-medium `}>{ingredient.name}</p>\r\n        <ul className={ingredientDetails.items}>\r\n          <li className={ingredientDetails.item}>\r\n            <p className=\"text text_type_main-default text_color_inactive\">Калории,ккал</p>\r\n            <p className={` ${ingredientDetails.count } text text_type_digits-default text_color_inactive `}>{ingredient.calories}</p>\r\n          </li>\r\n          <li className={ingredientDetails.item}>\r\n            <p className=\"text text_type_main-default text_color_inactive\">Белки, г</p>\r\n            <p className={` ${ingredientDetails.count } text text_type_digits-default text_color_inactive `}>{ingredient.proteins}</p>\r\n          </li>\r\n          <li className={ingredientDetails.item}>\r\n            <p className=\"text text_type_main-default text_color_inactive\">Жиры, г</p>\r\n            <p className={` ${ingredientDetails.count } text text_type_digits-default text_color_inactive `}>{ingredient.fat}</p>\r\n          </li>\r\n          <li className={ingredientDetails.item}>\r\n            <p className=\"text text_type_main-default text_color_inactive\">Углеводы, г</p>\r\n            <p className={` ${ingredientDetails.count } text text_type_digits-default text_color_inactive `}>{ingredient.carbohydrates}</p>\r\n          </li>\r\n        </ul>\r\n    </>\r\n  )\r\n}\r\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getIngredients } from '../../services/actions/ingredients';\n\nimport app from './app.module.css';\nimport style from '@ya.praktikum/react-developer-burger-ui-components';\nimport AppHeader from '../appHeader/AppHeader';\nimport BurgerIngredients from '../burgerIngredients/BurgerIngredients';\nimport BurgerConstructor from '../burgerConstructor/BurgerConstructor';\nimport Modal from '../modal/Modal';\nimport OrderDetails from '../orderDetails/OrderDetails';\nimport OrderMessage from '../orderMessage/OrderMessage';\nimport IngredientDetails from '../ingredientDetails/IngredientDetails';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\n\nexport default function App() {\n  const dispatch = useDispatch();\n  const message = {message: 'Добавьте булочку в ингредиенты'};\n\n  //делаем запрос к серверу для получения всех ингредиентов\n  useEffect(() => {\n    dispatch(getIngredients());\n  }, [])\n\n  const isOpenModal = useSelector(state => state.getInfoSelectedIngredient.openModal);\n  const isOpenModalDetails = useSelector(state => state.getInfoSelectedIngredient.openModalOrder);\n  const isOpenModalError = useSelector(state => state.getInfoSelectedIngredient.openModalError);\n\n  const feedFailed = useSelector((state) => state.getIngredientsApi.feedFailed);\n  const feedRequest = useSelector((state) => state.getIngredientsApi.feedRequest);\n\n  return (\n    <>\n      {feedFailed && <h2 className={`text text_type_main-large`}>Произошла ошибка при получении данных</h2>}\n      {feedRequest && <h2 className={`text text_type_main-large`}>Загрузка...</h2>}\n      {!feedFailed && !feedRequest &&\n        <>\n          <main className={app.app}>\n            <div className={app.header}>\n              <AppHeader />\n            </div>\n            <div className={app.section}>\n              <>\n                <DndProvider backend={HTML5Backend}>\n                  <BurgerIngredients />\n                  <BurgerConstructor />\n                </DndProvider>\n              </>\n            </div>\n          </main>\n          {isOpenModalDetails &&\n            <Modal\n              title=\"\"\n            >\n              <OrderDetails />\n            </Modal>\n          }\n          {isOpenModal &&\n            <Modal\n              title=\"Детали ингредиента\"\n            >\n              <IngredientDetails />\n            </Modal>\n          }\n          {isOpenModalError &&\n            <Modal\n              title=\"\"\n            >\n              <OrderMessage />\n            </Modal>\n          }\n        </>\n      }\n    </>\n  );\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","//экшен для открытия модалки при нажатии на ингредиент\nimport {\n  OPEN_SELECTED_INRGEDIENT,\n  CLOSE_MODALS,\n  OPEN_ORDER_DETAILS,\n  OPEN_ORDER_ERROR\n}\n  from '../actions/getIngredientforOpenModal';\n\nconst defaultState = {\n  openModal: false, //состояние открыто ли модальное окно\n  openModalOrder: false, //состояние открыто ли модальное окно номера заказа\n  openModalError: false, //состояние открыто ли модальное окно с инфомацией об ошибке\n  openModalIngredient: {} //объект текущего просматриваемого ингредиента\n}\n\nexport const openInfoSelectedIngredient = (state = defaultState, action) => {\n  switch (action.type) {\n    case OPEN_SELECTED_INRGEDIENT: {\n      const selectedInrgedient = action.payload;\n      return {...state, openModalIngredient: selectedInrgedient, openModal: true}\n    }\n    case CLOSE_MODALS: {\n      return {...state, openModal: false, openModalOrder: false, openModalError: false}\n    }\n    case OPEN_ORDER_DETAILS: {\n      return {...state, openModalOrder: true}\n    }\n    case OPEN_ORDER_ERROR: {\n      return {...state, openModalError: true}\n    }\n    default:\n      return state\n  }\n}\n","import {\n  CALC_PRICE_ORDER_DETAILS,\n  SET_SELECTED_ID_INGREDIENTS,\n  GET_ORDER_DETAILS,\n  GET_ORDER_DETAILS_SUCCESS,\n  GET_ORDER_DETAILS_SUCCESS_FAILED,\n} from '../actions/getOrderDetails';\n\nconst defaultState = {\n  feedRequest: false,\n  feedFailed: false,\n  price: 0,\n  selectedIdIgredients: [],\n  infoOderDetails: {}\n}\n\nexport const getInfoOrderDetails = (state = defaultState, action) => {\n  switch (action.type) {\n    case GET_ORDER_DETAILS: {\n      return {...state, feedRequest: true, feedFailed: false}\n    }\n    case GET_ORDER_DETAILS_SUCCESS: {\n      const dataOrder = action.payload;\n      return {...state, feedRequest: false, infoOderDetails: dataOrder}\n    }\n    case GET_ORDER_DETAILS_SUCCESS_FAILED: {\n      return {...state, feedRequest: false, feedFailed: true}\n    }\n    case CALC_PRICE_ORDER_DETAILS: {\n      const price = action.payload;\n      return {...state, price: price}\n    }\n    case SET_SELECTED_ID_INGREDIENTS: {\n      const price = action.payload;\n      return {...state, selectedIdIgredients: price}\n    }\n    default:\n      return state\n  }\n}\n","import { combineReducers } from 'redux';\r\nimport { getIngredientsApi } from './ingredients';\r\nimport { openInfoSelectedIngredient } from './selectedInredient';\r\nimport { getInfoOrderDetails } from './orderDetails';\r\n\r\nexport const rootReducers = combineReducers({\r\n  getIngredientsApi: getIngredientsApi,\r\n  getInfoSelectedIngredient: openInfoSelectedIngredient,\r\n  getOrderDetails: getInfoOrderDetails,\r\n})\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/app/App';\nimport reportWebVitals from './reportWebVitals';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\n\nimport { rootReducers } from './services/reducers/rootReducers';\n\nconst composeEnhancers =\n  typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\n    : compose;\n\nconst enhancer = composeEnhancers(applyMiddleware(thunk));\n\nconst store = createStore(rootReducers, enhancer);\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"ingredientDetails_image__3hAv-\",\"name\":\"ingredientDetails_name__12KSq\",\"items\":\"ingredientDetails_items__2ERon\",\"item\":\"ingredientDetails_item__1IAWw\",\"count\":\"ingredientDetails_count__2QRY_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"appHeader_header__2whav\",\"navigation\":\"appHeader_navigation__21G68\",\"menu\":\"appHeader_menu__1iQ_X\",\"button\":\"appHeader_button__3q2QZ\",\"button_active\":\"appHeader_button_active__1FVxf\",\"logo\":\"appHeader_logo__25IQu\",\"profile\":\"appHeader_profile__14gWY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"numberOrder\":\"orderDetails_numberOrder__3CIrL\",\"textIdOrder\":\"orderDetails_textIdOrder__2XOOQ\",\"loadImage\":\"orderDetails_loadImage__32kjV\",\"rotation\":\"orderDetails_rotation__3xess\",\"checkImage\":\"orderDetails_checkImage__2ZYVU\",\"statusOrder\":\"orderDetails_statusOrder__XjM6f\",\"status\":\"orderDetails_status__1CHuO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"burgerIngredients\":\"burgerIngredients_burgerIngredients__3cLPf\",\"ingredients\":\"burgerIngredients_ingredients__1lwXY\",\"title\":\"burgerIngredients_title__1mxWQ\",\"tab\":\"burgerIngredients_tab__p_Zs8\",\"card\":\"burgerIngredients_card__3MUJq\",\"item\":\"burgerIngredients_item__1xdEy\",\"image\":\"burgerIngredients_image__1g8kh\",\"counter\":\"burgerIngredients_counter__2F9bQ\",\"price\":\"burgerIngredients_price__3UAsx\",\"cost\":\"burgerIngredients_cost__d_asc\",\"name\":\"burgerIngredients_name__T-wPQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"burgerConstructor\":\"burgerConstructor_burgerConstructor__2phQ_\",\"ingredients\":\"burgerConstructor_ingredients__3tom3\",\"bun\":\"burgerConstructor_bun__3gUkQ\",\"list\":\"burgerConstructor_list__17TAI\",\"cellPrice\":\"burgerConstructor_cellPrice__1aEiO\",\"buttonOrder\":\"burgerConstructor_buttonOrder__1LN-F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ingredientItem_item__C7Pva\",\"image\":\"ingredientItem_image__1UP6M\",\"counter\":\"ingredientItem_counter__inwxq\",\"price\":\"ingredientItem_price__gsPtg\",\"cost\":\"ingredientItem_cost__3eKc5\",\"name\":\"ingredientItem_name__2dHsZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"modal_modal__2qwSv\",\"modalForm\":\"modal_modalForm__1dB_G\",\"headerDetails\":\"modal_headerDetails__3-nQ4\",\"closeButton\":\"modal_closeButton__2N_oI\",\"headerText\":\"modal_headerText__2qKeI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app_app__2aEuY\",\"section\":\"app_section__3ILkL\",\"header\":\"app_header__3pkGJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredient\":\"elementBurger_ingredient__1BJS2\",\"dragIcon\":\"elementBurger_dragIcon__67fT7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalOverlay\":\"modalOverlay_modalOverlay__ve06U\"};"],"sourceRoot":""}